---
layout: post
title: "GLUT bug in Mac Sierra"
date: "2016-10-04 11:11:54 +0100"
categories:
  - blog
  - C++
  - OpenGL
---

In Mac Sierra, the function `glutGetModifier()` return incorrect value when the mouse function is trigger. A work around is to utilize a Mac function.

{% highlight C++ %}
#ifdef __APPLE__
#include <Carbon/Carbon.h>
int carbonGetModifiers()
{
    auto m = GetCurrentKeyModifiers();
    if(m & optionKey)
        return GLUT_ACTIVE_ALT;
    if(m & controlKey)
        return GLUT_ACTIVE_CTRL;
    if(m & shiftKey)
        return GLUT_ACTIVE_SHIFT;
    
    return 0;
}
#endif
{% endhighlight %}

Remember to add `CarbonFramework` to your project.
